# AI名刺アプリ - 使用フロー

## 🎯 完全なワークフロー

### 1. 新規名刺の作成と解析
1. **トップページ**で名刺画像をアップロード
2. **「AI解析を開始」**をクリック
3. AIが自動で情報を抽出
4. **自動テンプレート保存**: 会社名がある場合、自動的にテンプレートとして保存
5. **エディタ画面**で情報を編集
6. **PDFでダウンロード**して完了

### 2. 既存テンプレートから新規名刺作成
1. **トップページ**の「登録済みテンプレート」セクション
2. **希望の会社テンプレートを選択**
3. **エディタ画面**に自動移動
4. **個人情報のみ入力**（氏名、役職、メールなど）
5. **PDFでダウンロード**して完了

## 🔧 技術仕様

### 自動テンプレート保存
- 解析完了後、会社名が存在する場合に自動保存
- localStorageに永続化
- 重複会社名は上書き更新

### テンプレート選択時の動作
- 会社情報（会社名、住所、電話、Webサイト）を自動入力
- 個人情報（氏名、役職、メール）は空欄のまま
- 以前のアップロード画像はクリア
- エディタ画面に直接移動

### PDF出力機能
- 編集した情報でリアルタイムプレビュー
- 標準名刺サイズ（91mm×55mm）
- 高品質PDF生成
- 自動ダウンロード

## 📱 ユーザー体験

### 初回利用
```
名刺アップロード → AI解析 → テンプレート自動保存 → 編集 → PDF出力
```

### 2回目以降
```
テンプレート選択 → 個人情報入力 → PDF出力
```

## 🎨 UI機能

### トップページ
- ファイルアップロードエリア（ドラッグ＆ドロップ対応）
- テンプレート選択カード（保存済みテンプレート一覧）
- 機能説明セクション

### エディタページ
- リアルタイム名刺プレビュー
- フィールド編集フォーム
- PDFエクスポートボタン
- アップロード画像参照

### 通知機能
- テンプレート保存完了通知
- エラー通知
- 成功通知

## 🔗 API連携

### バックエンドAPI
- `/api/v1/files/analyze` - ファイル解析
- `/api/v1/pdf/export` - PDF出力
- OpenAI Vision + Acrobat MCPハイブリッド解析

### フロントエンド
- Next.js + React + TypeScript
- Zustand状態管理
- shadcn/ui + TailwindCSS
- WebSocketリアルタイムプレビュー

## 💾 データ保存

### localStorage
- テンプレートデータ（会社情報）
- ユーザー設定

### サーバー連携
- AI解析結果
- PDF生成
- 一時ファイル処理

## 🚀 デプロイ

### フロントエンド
- Vercelホスティング
- 自動デプロイ
- CDN配信

### バックエンド
- FastAPIサーバー
- Dockerコンテナ
- クラウド実行

---

このワークフローにより、ユーザーは一度名刺を解析するだけで、同じ会社の新しい名刺を簡単に作成できるようになります。
